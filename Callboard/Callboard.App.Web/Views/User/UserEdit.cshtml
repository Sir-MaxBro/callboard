@model User
@Scripts.Render("~/user")

<h1>User</h1>
<input type="hidden" id="userId" value="@Model.UserId" />
<input type="text" id="name" value="@Model.Name" />

<div>
    @if (Model.PhotoData == null)
    {
        <img id="photo" width="200" height="200" />
    }
    else
    {
        @Html.RenderImage(Model.PhotoData, Model.PhotoExtension, null, htmlAttributes: new { width = 100, height = 100, id = "photo" })
    }
    <input type="file" onchange="fillPhoto(event)" />
</div>

<div>
    <div id="phones">
        @foreach (var phone in Model.Phones)
        {
            <input type="text" value="@phone.Number" data-phone-id="@phone.PhoneId" />
        }
    </div>
    <a href="#" onclick="addPhone()" class="button button_green" style="width:100px;">add phone</a>
</div>

<div>
    <div id="emails">
        @foreach (var mail in Model.Mails)
        {
            <input type="text" value="@mail.Email" data-mail-id="@mail.MailId" />
        }
    </div>
    <a href="#" onclick="addMail()" class="button button_green" style="width:100px;">add mail</a>
</div>
<input type="button" onclick="saveUser()" value="Save" class="button" />

<div id="save-result">

</div>